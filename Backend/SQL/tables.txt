CREATE TABLE Users (
	UserID int AUTO_INCREMENT,
	Username varchar(30),
	Password varchar(50),
	Email varchar(30),
	FullName varchar(30),
	IsRestaurant tinyint DEFAULT 0,						# Saab luua restorane
	IsAdmin tinyint DEFAULT 0,							# 0 False, 1 True
	PRIMARY KEY (UserID)
);


CREATE TABLE Restaurants (
	RestaurantID int AUTO_INCREMENT,
	RestaurantName varchar(100),
	OpenTime varchar(100),								# Erinev p2ev, erinev kellaaeg?
	PhoneNumber int,
	Location varchar(100),								
	UserID int,
	PRIMARY KEY (RestaurantID),
	FOREIGN KEY (UserID) REFERENCES Users(UserID)
);


CREATE TABLE RestaurantLikes (
	RestaurantLikeID int AUTO_INCREMENT,
	Rating tinyint,										# 1 like, -1 dislike
	UserID int,
	RestaurantID int,
	PRIMARY KEY (RestaurantLikeID),
	FOREIGN KEY (UserID) REFERENCES Users(UserID),
	FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID)
);


CREATE TABLE Food (
	FoodID int AUTO_INCREMENT,
	Class varchar(50),
	Description varchar(200),
	Image varchar(500),
	Price decimal,
	RestaurantID int,
	PRIMARY KEY (FoodID),
	FOREIGN KEY (RestaurantID) REFERENCES Restaurants(RestaurantID)
);


CREATE TABLE FoodLikes (
	FoodLikeID int AUTO_INCREMENT,
	Rating tinyint,
	UserID int,
	FoodID int,
	PRIMARY KEY (FoodLikeID),
	FOREIGN KEY (UserID) REFERENCES Users(UserID),
	FOREIGN KEY (FoodID) REFERENCES Food(FoodID)	
);

CREATE TABLE Comments (
	CommentID int AUTO_INCREMENT,
	CommentTimestamp timestamp DEFAULT NOW(),
	Content varchar(500),
	UserID int,
	FoodID int,
	PRIMARY KEY (CommentID),
	FOREIGN KEY (UserID) REFERENCES Users(UserID),
	FOREIGN KEY (FoodID) REFERENCES Food(FoodID)
);
